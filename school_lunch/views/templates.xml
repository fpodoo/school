<odoo>
<data>

<template id="menu">
    <t t-call="website.layout">
      <div id="wrap"/>
      <div class="container">
          <div class="row" id="lunch_menu">
              <div class="col-8">
                  <h1 class="mb-4 mt-4">Lunch: <t t-esc="date.strftime('%B %Y')"/></h1>
              </div><div class="col-4">
                  <a t-attf-href="/menu/#{int((date+dmonth).timestamp())}" t-esc="(date+dmonth).strftime('%B %Y')" class="btn btn-primary"></a>
                  <a t-attf-href="/menu/#{int((date-dmonth).timestamp())}" t-esc="(date-dmonth).strftime('%B %Y')" class="btn btn-primary"></a>
              </div>
          </div>

          <div class="alert alert-warning" role="alert" t-if="not len(kids)">
              To order, or check what you have ordered, <a href="/school/kids">add your children</a>.
          </div>

          <div class="row">
              <div class="col-md-9">
                  <table class="table table-sm">
                      <thead class="thead-light">
                      <tr>
                          <th></th>
                          <th class="table-danger text-center" t-foreach="kids" t-as="kid">
                              <t t-out="kid.shortname"/>
                          </th>
                      </tr>
                      </thead>
                      <tr t-foreach="menus" t-as="menu">
                          <td>
                              <b t-out="menu.date.strftime('%A, %d %b %Y')"></b><br/>
                              <t t-out="menu.name"/>
                              <span t-foreach="menu.allergy_ids" t-as="allergy" class="badge badge-pill badge-success">
                                  <t t-out="allergy.name"/>
                              </span>
                          </td>
                          <td t-foreach="kids" t-as="kid" class="text-center">
                              <div class="o_lunch_choice">
                                  <div class="o_choice active">
                                      Meal
                                  </div>
                                  <div class="o_choice">
                                      Soup
                                  </div>
                              </div>
                          </td>
                      </tr>
                  </table>
                  <div class="mb128">
                      <button class="btn btn-primary">Valider</button>
                  </div>
              </div><div class="col-md-3 col-sm-invisible">
                  <h3>Meal</h3>
                  <ul class="list-unstyled mb-4">
                      <li><a href="#" id="lunch_all">Select All</a></li>
                      <li>Monday</li>
                      <li>Tuesday</li>
                      <li>Wednesday</li>
                      <li>Thursday</li>
                      <li>Friday</li>
                  </ul>
                  <h3>Soup</h3>
                  <ul class="list-unstyled mb-4">
                      <li><a href="#" id="lunch_all">Select All</a></li>
                      <li>Monday</li>
                      <li>Tuesday</li>
                      <li>Wednesday</li>
                      <li>Thursday</li>
                      <li>Friday</li>
                  </ul>
                  <h3>Allergies</h3>
                  <ul  class="list-unstyled">
                      <li><b>Unselect All</b></li>
                      <li t-foreach="allergies" t-as="allergy">
                          <span t-out="allergy.name"/>
                      </li>
                  </ul>
              </div>

          </div>

      </div>
    </t>
</template>


<template id="kids">
    <t t-call="website.layout">
      <div id="wrap"/>
      <div class="container">
          <h1 class="mb-4 mt-4">Add a Kid</h1>
          <form method="post" action="/school/kid/add">
              <div class="form-group row">
                <label for="class_name" class="col-form-label col-sm-2">Class</label>
                <div class="col-sm-4">
                    <select class="form-control">
                        <option t-foreach="classes" t-as="classe">
                            <t t-att-value="classe.id" t-out="classe.name"/>
                        </option>
                    </select>
                </div>
              </div>
              <div class="form-group row">
                <label for="class_name" class="col-form-label col-sm-2">Kid</label>
                <div class="col-sm-4">
                    <select class="form-control" name="kid_id">
                        <option t-foreach="kids" t-as="kid" t-att-value="kid.id" >
                            <t t-out="kid.shortname"/>
                        </option>
                    </select>
                </div>
              </div>
              <div class="form-group row">
                  <div class="col-sm-4 offset-sm-2">
                      <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                      <button type="submit" class="btn btn-primary">Add Child</button>
                  </div>
              </div>

          </form>

          <div t-if="len(my_kids)">
              <h1 class="mb-4 mt-4">Your Children</h1>
              <ul>
                  <li t-foreach="my_kids" t-as="kid">
                      <t t-out="kid.shortname"/>
                      <a t-attf-href="/school/kid/remove/#{kid.id}" class="text-danger"><span class="fa fa-times"></span></a>
                  </li>
              </ul>
          </div>

      </div>
    </t>
</template>




</data>
</odoo>
