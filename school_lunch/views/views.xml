<odoo>
    <data>
    <!-- Top menu item -->
    <menuitem name="Lunch" id="school_lunch.root"/>
    <menuitem name="Configuration" id="school_lunch.config" parent="school_lunch.root" sequence="32"/>

    <record model="ir.ui.view" id="school_lunch.allergy_list">
      <field name="name">Allergies</field>
      <field name="model">school_lunch.allergy</field>
      <field name="arch" type="xml">
        <tree string="Allergies" editable="bottom">
          <field name="code"/>
          <field name="name"/>
        </tree>
      </field>
    </record>
    <record model="ir.actions.act_window" id="school_lunch.allergy_act">
      <field name="name">Allergies</field>
      <field name="res_model">school_lunch.allergy</field>
      <field name="view_mode">tree</field>
    </record>
    <menuitem name="Allergies" id="school_lunch.allergy_menu"
            parent="school_lunch.config"
            action="school_lunch.allergy_act"/>


    <record model="ir.ui.view" id="school_lunch.class_name_list">
      <field name="name">Classes</field>
      <field name="model">school_lunch.class_name</field>
      <field name="arch" type="xml">
        <tree string="Class Name" editable="bottom">
          <field name="name"/>
          <field name="class_type"/>
        </tree>
      </field>
    </record>
    <record model="ir.actions.act_window" id="school_lunch.class_name_act">
      <field name="name">Classes</field>
      <field name="res_model">school_lunch.class_name</field>
      <field name="view_mode">tree</field>
    </record>
    <menuitem id="school_lunch.class_name_menu"
            parent="school_lunch.config"
            action="school_lunch.class_name_act"/>

    <record model="ir.ui.view" id="school_lunch.kid_view_form">
      <field name="name">Kids</field>
      <field name="model">school_lunch.kid</field>
      <field name="arch" type="xml">
        <form string="Kids">
          <group>
            <group>
              <field name="name"/>
              <field name="allergy_ids" widget="many2many_tags"/>
            </group>
            <group>
              <field name="class_id"/>
              <field name="parent_id"/>
            </group>
          </group>
        </form>
      </field>
    </record>
    <record model="ir.ui.view" id="school_lunch.kid_view_list">
      <field name="name">Kids</field>
      <field name="model">school_lunch.kid</field>
      <field name="arch" type="xml">
        <tree string="Kids">
          <field name="name"/>
          <field name="allergy_ids"/>
          <field name="class_id"/>
        </tree>
      </field>
    </record>
    <record model="ir.actions.act_window" id="school_lunch.kid_name_act">
      <field name="name">Kids</field>
      <field name="res_model">school_lunch.kid</field>
      <field name="view_mode">tree,form</field>
    </record>
    <menuitem id="school_lunch.kid_name_menu"
            parent="school_lunch.config"
            action="school_lunch.kid_name_act"/>

    <menuitem name="Menu" id="school_lunch.menu" parent="school_lunch.root"/>

    <record model="ir.ui.view" id="school_lunch.menu_list">
      <field name="name">Menu</field>
      <field name="model">school_lunch.menu</field>
      <field name="arch" type="xml">
        <tree string="Menu">
          <field name="date"/>
          <field name="cook_id"/>
          <field name="meal_type"/>
          <field name="name"/>
          <field name="allergy_ids" widget="many2many_tags"/>
          <field name="color" widget="color_picker"/>
        </tree>
      </field>
    </record>


    <record model="ir.ui.view" id="school_lunch.menu_calendar">
      <field name="name">Menu</field>
      <field name="model">school_lunch.menu</field>
      <field name="arch" type="xml">
        <calendar string="Menu" date_start="date" color="color">
          <field name="name"/>
          <field name="description"/>
          <field name="cook_id" filters="1"/>
          <field name="allergy_ids" widget="many2many_tags"/>
        </calendar>
      </field>
    </record>

    <record model="ir.actions.act_window" id="school_lunch.action_list_orders">
      <field name="name">Orders</field>
      <field name="res_model">school_lunch.order</field>
      <field name="view_mode">tree,form,pivot,graph</field>
      <field name="domain">[('menu_id','=',active_id)]</field>
    </record>

    <record model="ir.ui.view" id="school_lunch.menu_form">
      <field name="name">Menu</field>
      <field name="model">school_lunch.menu</field>
      <field name="arch" type="xml">
        <form string="Menu">
          <sheet>
              <div class="oe_button_box" name="button_box">
                  <button name="school_lunch.action_list_orders"
                      type="action"
                      class="oe_stat_button"
                      icon="fa-pencil-square-o">
                      <field name="order_count" widget="statinfo" string="Orders"/>
                  </button>
              </div>
              <group>
                  <group>
                      <field name="date"/>
                      <field name="cook_id"/>
                      <field name="meal_type"/>
                  </group>
                  <group>
                      <field name="name"/>
                      <field name="description"/>
                      <field name="allergy_ids" widget="many2many_tags"/>
                      <field name="color" widget="color_picker"/>
                  </group>
              </group>
          </sheet>
        </form>
      </field>
    </record>



    <!-- actions opening views on models -->
    <record model="ir.actions.act_window" id="school_lunch.menu_act">
      <field name="name">Menu</field>
      <field name="res_model">school_lunch.menu</field>
      <field name="view_mode">tree,form,calendar</field>
    </record>
    <menuitem name="Menu" id="school_lunch.menu_menu"
            parent="school_lunch.menu"
            action="school_lunch.menu_act"/>


    <!-- actions opening views on models -->
    <record model="ir.ui.view" id="school_lunch.order_list">
      <field name="name">Allergies</field>
      <field name="model">school_lunch.order</field>
      <field name="arch" type="xml">
        <tree string="Orders">
          <field name="date"/>
          <field name="name"/>
          <field name="menu_id"/>
        </tree>
      </field>
    </record>

    <record model="ir.actions.act_window" id="school_lunch.order_act">
      <field name="name">Orders</field>
      <field name="res_model">school_lunch.order</field>
      <field name="view_mode">tree,form,pivot,graph</field>
    </record>
    <menuitem id="school_lunch.menu_order"
            parent="school_lunch.menu"
            action="school_lunch.order_act"/>


    </data>
</odoo>
