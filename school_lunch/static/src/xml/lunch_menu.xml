<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve" id="template">

  <t t-name="school_lunch.lunch_menu" owl="1">
      <div class="o_choice" t-att-class="props.menu.kids.includes(props.kid.id) ? 'active' : ''" t-on-click="toggleMenu">
          <t t-esc="props.menu.meal_type"/>
      </div>
  </t>


  <t t-name="school_lunch.lunch_line" owl="1">
    <tr>
      <td>
          <b t-esc="props.menu.date"></b><br/>
          <div t-foreach="props.menu.meals" t-as="meal" t-key="meal.id">
              <t t-if="meal.kids.length">
                  <t t-esc="meal.name"/>
                  <span t-foreach="meal.allergies" t-as="allergy" class="badge badge-pill badge-success ml-2" t-key="meal.id">
                      <t t-esc="allergy.name"/>
                  </span>
              </t>
          </div>
      </td>
      <td t-foreach="props.kids" t-as="kid" class="text-center" t-key="kid.id">
          <div class="o_lunch_choice">
              <t t-foreach="props.menu.meals" t-as="menu" t-key="menu.id">
                  <LunchMenu menu="menu" kid="kid" meals="props.menu.meals"/>
              </t>
          </div>
      </td>
    </tr>
  </t>


  <t t-name="school_lunch.lunch_table" owl="1">
      <div class="row">
          <div class="col-md-9">
              <table class="table table-sm">
                  <thead class="thead-light">
                  <tr>
                      <th></th>
                      <th class="table-danger text-center" t-foreach="kids" t-as="kid" t-key="kid.id">
                          <t t-esc="kid.shortname"/>
                      </th>
                  </tr>
                  </thead>

                  <t t-foreach="menus" t-as="menu" t-key="menu.date">
                      <LunchLine menu="menu" kids="kids"/>
                  </t>

              </table>
              <div class="mb128">
                  <button class="btn btn-primary">Valider</button>
              </div>
          </div><div class="col-md-3 col-sm-invisible">
              <h3>Meal</h3>
              <ul class="list-unstyled mb-4">
                  <li><a href="#" t-on-click="selectMeal" data-meal="meal" data-day="0">Select All</a></li>
                  <li><a href="#" t-on-click="selectMeal" data-meal="meal" data-day="1">Monday</a></li>
                  <li><a href="#" t-on-click="selectMeal" data-meal="meal" data-day="2">Tuesday</a></li>
                  <li><a href="#" t-on-click="selectMeal" data-meal="meal" data-day="3">Wednesday</a></li>
                  <li><a href="#" t-on-click="selectMeal" data-meal="meal" data-day="4">Thursday</a></li>
                  <li><a href="#" t-on-click="selectMeal" data-meal="meal" data-day="5">Friday</a></li>
              </ul>
              <h3>Soup</h3>
              <ul class="list-unstyled mb-4">
                  <li><a href="#" t-on-click="selectMeal" data-meal="soup" data-day="0">Select All</a></li>
                  <li><a href="#" t-on-click="selectMeal" data-meal="meal" data-day="1">Monday</a></li>
                  <li><a href="#" t-on-click="selectMeal" data-meal="meal" data-day="2">Tuesday</a></li>
                  <li><a href="#" t-on-click="selectMeal" data-meal="meal" data-day="3">Wednesday</a></li>
                  <li><a href="#" t-on-click="selectMeal" data-meal="meal" data-day="4">Thursday</a></li>
                  <li><a href="#" t-on-click="selectMeal" data-meal="meal" data-day="5">Friday</a></li>
              </ul>
              <h3>Allergies</h3>
              <ul class="list-unstyled">
                  <li><a t-on-click="unselectAllergy" data-allergy="0">Unselect All</a></li>
                  <li t-foreach="allergies" t-as="allergy" t-key="allergy.id">
                      <a href="#" t-on-click="unselectAllergy" t-att-data-allergy="allergy.id">
                          <span t-esc="allergy.name"/>
                      </a>
                  </li>
              </ul>
          </div>

      </div>
  </t>

</templates>
